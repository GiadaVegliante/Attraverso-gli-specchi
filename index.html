<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prova bottoni</title>
	<link rel="stylesheet" href="main.css">
</head>

<body>
	<a class="indice" href=""> Indice </a>
	<div class="Testo">Attraverso gli specchi</div>
	<div class="sottotitolo">Raccolta</div>

	<div class="interfaccia">
		<label for="#input-filtri"> </label>
		<input id="input-filtri" type="number" max="9">
	</div>

		<!-- SCRIPT WEBCAM -->
	<script>
		let capture
		var modo = 'prova'

		function setup(){
			createCanvas(400, 400)
			capture = createCapture(VIDEO)
			capture.size(400, 400)
			capture.hide()
		}
		
function draw(){
//	image(capture, 0, 0, capture.width, capture.height)
background(0)

stroke(255,255,255)
noFill()
square(0, 0, 400);

	tint(255, 150);

	if (modo == 'niente') { 
	} else if (modo == '1') {
		tint(255, 255);
		const metaD = capture.get(170+mouseX, 0, capture.width/4, capture.height)
            image(metaD, -metaD.width + width/4 +155, 0)
            const metaS = capture.get(120+mouseX, 0, capture.width/6, capture.height)
            image(metaS, -metaS.width + width/6 +0, 0)
            const metaSS = capture.get(140+mouseX, 0, capture.width/6, capture.height)
            image(metaSS, -metaSS.width + width/6 +20, 0)
            const metaA = capture.get(155+mouseX, 0, capture.width/6, capture.height)
            image(metaA, -metaA.width + width/6 +50, 0)
            const metaB = capture.get(165+mouseX, 0, capture.width/6, capture.height)
            image(metaB, -metaB.width + width/6 +90, 0)

            const metaE = capture.get(230+mouseX, 0, capture.width/6, capture.height)
            image(metaE, -metaE.width + width/6 +340, 0)
            const metaT = capture.get(220+mouseX, 0, capture.width/6, capture.height)
            image(metaT, -metaT.width + width/6 +315, 0)
            const metaQ = capture.get(205+mouseX, 0, capture.width/6, capture.height)
            image(metaQ, -metaQ.width + width/6 +285, 0)
            const metaG = capture.get(195+mouseX, 0, capture.width/6, capture.height)
            image(metaG, -metaG.width + width/6 +245, 0)
            const metaAA = capture.get(170+mouseX, 0, capture.width/6, capture.height)
            image(metaAA, -metaAA.width + width/6 +500, 0)
            const metaa = capture.get(85+mouseX, 0, capture.width/6, capture.height)
            image(metaa, -metaa.width + width/6 -50, 0)
		
	}  else if (modo == '2') {
		tint(255, 200);
		const metaD = capture.get(250+mouseX, 320+mouseY, capture.width/5, capture.height/5)
			image(metaD, -metaD.width + width/5, 0)
			const metaZ = capture.get(170+mouseX, 250+mouseY, capture.width/5, capture.height/5)
			image(metaZ, -metaZ.width + width/5 +80, 0)
			const metaU = capture.get(320+mouseX, 320+mouseY, capture.width/5, capture.height/5) 
			image(metaU, -metaU.width + width/5 +160, 0)
			const metaO = capture.get(250+mouseX, 90+mouseY, capture.width/5, capture.height/5)
			image(metaO, -metaO.width + width/5 +240, 0)
			const metaX = capture.get(10+mouseX, 300+mouseY, capture.width/5, capture.height/5)
			image(metaX, -metaX.width + width/5 +320, 0)

			const metaQQ = capture.get(250+mouseX, 10+mouseY, capture.width/5, capture.height/5)
			image(metaQQ, -metaQQ.width + width/5, 80)
			const metaTT = capture.get(90, 90, capture.width/5, capture.height/5)
			image(metaTT, -metaTT.width + width/5 +80, 80)
			const metaY = capture.get(170, 90, capture.width/5, capture.height/5)
			image(metaY, -metaY.width + width/5 +160, 80)
			const metaR = capture.get(10+mouseX, 90+mouseY, capture.width/5, capture.height/5)
			image(metaR, -metaR.width + width/5 +240, 80)
			const metaAA = capture.get(320+mouseX, 10+mouseY, capture.width/5, capture.height/5)
			image(metaAA, -metaAA.width + width/5 +320, 80)

			const metaQ = capture.get(250+mouseX, 250+mouseY, capture.width/5, capture.height/5)
			image(metaQ, -metaQ.width + width/5 +320, 160)
			const metaA = capture.get(170+mouseX, 90+mouseY, capture.width/5, capture.height/5)
			image(metaA, -metaA.width + width/5, 160)
			const metaE = capture.get(90, 170, capture.width/5, capture.height/5)
			image(metaE, -metaE.width + width/5 +80, 160)
			const metaS = capture.get(170, 170, capture.width/5, capture.height/5)
			image(metaS, -metaS.width + width/5 +160, 160)
			const metaW = capture.get(250, 170, capture.width/5, capture.height/5)
			image(metaW, -metaW.width + width/5 +240, 160)
			
			const metaC = capture.get(10, 250, capture.width/5, capture.height/5)
			image(metaC, -metaC.width + width/5, 240)
			const metaV = capture.get(90, 250, capture.width/5, capture.height/5)
			image(metaV, -metaV.width + width/5 +80, 240)
			const metaB = capture.get(90+mouseX, 10+mouseY, capture.width/5, capture.height/5)
			image(metaB, -metaB.width + width/5 +160, 240)
			const metaN = capture.get(300+mouseX, 160+mouseY, capture.width/5, capture.height/5)
			image(metaN, -metaN.width + width/5 +240, 240)
			const metaM = capture.get(300+mouseX, 250+mouseY, capture.width/5, capture.height/5)
			image(metaM, -metaM.width + width/5 +320, 240)
			
			const metaK = capture.get(300+mouseX, 90+mouseY, capture.width/5, capture.height/5)
			image(metaK, -metaK.width + width/5, 320)
			const metaL = capture.get(170+mouseX, 300+mouseY, capture.width/5, capture.height/5)
			image(metaL, -metaL.width + width/5 +80, 320)
			const metaPP = capture.get(90+mouseX, 300+mouseY, capture.width/5, capture.height/5)
			image(metaPP, -metaPP.width + width/5 +160, 320)
			const metaKK = capture.get(10+mouseX, 10+mouseY, capture.width/5, capture.height/5)
			image(metaKK, -metaKK.width + width/5 +240, 320)
			const metaII = capture.get(170+mouseX, 10+mouseY, capture.width/5, capture.height/5)
			image(metaII, -metaII.width + width/5 +320, 320)
		
	} else if (modo == '3') {
		tint(255, 150);

					image(capture, 0, 0, capture.width, capture.height)
					
					const metaA = capture.get(0, 0, capture.width, capture.height/8.8)
            image(metaA, -metaA.width + width, 0)

			rotate(180 * Math.PI / 180);
            const metaB = capture.get(0, 45+mouseY, capture.width, capture.height/8.8)
          	image(metaB , -metaB.width + width -400, -89)

			rotate(-180 * Math.PI / 180);
            const metaC = capture.get(0, 90+mouseY, capture.width, capture.height/8.8)
            image(metaC, -metaC.width + width, 89)

			rotate(180 * Math.PI / 180);
            const metaD = capture.get(0, 135+mouseY, capture.width, capture.height/8.8)
            image(metaD, -metaD.width + width-400, -179)

			rotate(-180 * Math.PI / 180);
            const metaE = capture.get(0, 175+mouseY, capture.width, capture.height/8.8)
            image(metaE, -metaE.width + width, 178)

			rotate(180 * Math.PI / 180);
            const metaF = capture.get(0, 220+mouseY, capture.width, capture.height/8.8)
            image(metaF, -metaF.width + width-400, -268)

			rotate(-180 * Math.PI / 180);
            const metaG = capture.get(0, 265+mouseY, capture.width, capture.height/8.8)
            image(metaG, -metaG.width + width, 267)

			rotate(180 * Math.PI / 180);
            const metaH = capture.get(0, 310+mouseY, capture.width, capture.height/8.8)
            image(metaH, -metaH.width + width-400, -356)

			rotate(-180 * Math.PI / 180);
            const metaI = capture.get(0, 355+mouseY, capture.width, capture.height/8.8)
            image(metaI, -metaI.width + width, 356)
		
	} else if (modo == '4') {
		tint(255, 180);
			
			const spessore = 3000
			const passo = spessore / mouseY
			const passo2 = spessore / mouseX
			const numX = height / passo
			
			for(let j=0; j<numX; j++) {
				const rx = j * passo2
				image(capture,rx, 0)
				}
		
	} else if (modo == '5') {
		tint(255, 255);
	image(capture, 0, 0, capture.height, capture.width);

	tint(255, 150);
			//	rotate(20 * Math.PI / 180);
			//	image(capture, 100, 200, capture.height/2, capture.width/2);

			//	rotate(40 * Math.PI / 180);
			//	image(capture, 0, 0, capture.height/3, capture.width/3);

				const spostamento1 = capture.get(0, -200, capture.width, capture.height)
				rotate(mouseX * Math.PI / 180);
				image(spostamento1, -400, -810, capture.height*1.2, capture.width*1.2,);

				const spostamento2 = capture.get(-150, 0, capture.width, capture.height)
				rotate(220 * Math.PI / 180);
				image(spostamento2, -230, -110, capture.height, capture.width);

				const spostamento3 = capture.get(0, 140, capture.width, capture.height)
				rotate(200 * Math.PI / 180);
				image(spostamento3, -500, 140, capture.height, capture.width);

				const spostamento4 = capture.get(0, 0, capture.width, capture.height)
				rotate(-170 * Math.PI / 180);
				image(spostamento4, 100, 270, capture.height, capture.width/2.5);
				
				const spostamento5 = capture.get(0, 150, capture.width, capture.height)
				rotate(-250 * Math.PI / 180);
				image(spostamento5, -400, 120, capture.height, capture.width);

				const spostamento6 = capture.get(0, 200, capture.width, capture.height)
				rotate(-500 * Math.PI / 180);
				image(spostamento6, -630, -300, capture.height, capture.width);

				const spostamento7 = capture.get(0, 200, capture.width, capture.height)
				rotate(-495 * Math.PI / 180);
				image(spostamento7, 0, -300, capture.height/1.5, capture.width);

				const spostamento8 = capture.get(0, 200, capture.width, capture.height)
				rotate(-490 * Math.PI / 180);
				image(spostamento8, 60,400, capture.height, capture.width);

				const spostamento9 = capture.get(0, 0, capture.width, capture.height)
				rotate(-570 * Math.PI / 180);
				image(spostamento9, -500,-680, capture.height, capture.width);
		
	} else if (modo == '6') {
		const spessore = 400
				const passo = spessore / 5
				const numX = width / passo
	
					for(let i=0; i<numX; i++) {
					const rx = i * passo
					const f = capture.get(200, 0, passo, capture.height)
					const g = capture.get(0, 200, capture.width, passo)

					tint(255, 200);
					image(capture, 0, 0, capture.height, capture.width);
					image(g,0, mouseY) 

					tint(255, 100);
					image(capture, 0, 0, capture.height, capture.width);
					image(f,mouseX, 0)
					}
		
	} else if (modo == '7') {
		tint(255, 180);
		
		const spessore = 300
		const passo = spessore / 5
		const numX = width / passo
		

			for(let j=0; j<numX; j++) {
			const rx = j * mouseX 
			const rx2 = j * mouseY 
			const f = capture.get(100, 0, capture.width/4, capture.height)
			image(f,rx2 + mouseX, rx+ mouseY)
			}
		
	} else if (modo == '8') {
		tint(255, 180);
		
		const spessore = 300
		const passo = spessore / 5
		const numX = width / passo
		

			for(let j=0; j<numX; j++) {
			const rx = j * mouseY
			const f = capture.get(100, 0, capture.width/4, capture.height)
			image(f,rx + mouseX, 0)
			}
			
		
	} else if (modo == '9') {
		tint(255, 200);
		
			const spessore = 200
			const passo = spessore / 2
			const numX = height / passo

			for(let j=0; j<numX; j++) {
				const rx = j * passo
				const f = capture.get(mouseX, 0, capture.width, capture.height)
				image(f,rx, 0)
				}
		
	} 

		}

		// SCRIPT CAMBIA FILTRO  
		document.querySelector("#input-filtri").addEventListener("change", function(e){          
 if (e.target.value == "1" ) { 
 modo='1'  }
 else if (e.target.value == "2" )  {
	 modo='2'  }
 else if (e.target.value == "3" )  {
	 modo='3'  }
	 else if (e.target.value == "4" )  {
	 modo='4'  }
	 else if (e.target.value == "5" )  {
	 modo='5'  }
	 else if (e.target.value == "6" )  {
	 modo='6'  }
	 else if (e.target.value == "7" )  {
	 modo='7'  }
	 else if (e.target.value == "8" )  {
	 modo='8'  }
	 else if (e.target.value == "9" )  {
	 modo='9'  }
})

		// SCRIPT SALVA IMMAGINE 
		function keyPressed(){
			if (key == 's') {
				save(Date.now() + '.png')
			} 
			//else if (key == 'x') { }
		}
	</script>

<script src="https://cdn.jsdelivr.net/npm/p5@1.4.1/lib/p5.js"></script>
</body>

</html>